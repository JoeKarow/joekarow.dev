name: Generate demo GIF
on:
  workflow_dispatch:

jobs:
  generate-gif:
    runs-on: ubuntu-latest
    env:
      GITHUB_TOKEN: ${{ secrets.GH_PAT }}
    steps:
      - uses: actions/checkout@v3
        name: checkout repo
      - name: Website to GIF
        uses: PabloLec/website-to-gif@1.0.4
        with:
          url: "https://joekarow.dev"
          save_path: "/docs/img/"
          gif_name: "screenshot"
      - name: Commit GIF to GH repo
        run: |
          git config user.name github-actions
          git config user.email github-actions@github.com
          git checkout -b screenshot
          git add .
          git commit -m 'bot: ðŸ¤– Screenshot GIF'
          git push
